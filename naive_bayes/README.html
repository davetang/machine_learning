<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta name="viewport" content="width=device-width, initial-scale=1">

<style type="text/css">
@font-face {
font-family: octicons-link;
src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}
body {
-webkit-text-size-adjust: 100%;
text-size-adjust: 100%;
color: #333;
font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
font-size: 16px;
line-height: 1.6;
word-wrap: break-word;
}
a {
background-color: transparent;
}
a:active,
a:hover {
outline: 0;
}
strong {
font-weight: bold;
}
h1 {
font-size: 2em;
margin: 0.67em 0;
}
img {
border: 0;
}
hr {
box-sizing: content-box;
height: 0;
}
pre {
overflow: auto;
}
code,
kbd,
pre {
font-family: monospace, monospace;
font-size: 1em;
}
input {
color: inherit;
font: inherit;
margin: 0;
}
html input[disabled] {
cursor: default;
}
input {
line-height: normal;
}
input[type="checkbox"] {
box-sizing: border-box;
padding: 0;
}
table {
border-collapse: collapse;
border-spacing: 0;
}
td,
th {
padding: 0;
}
* {
box-sizing: border-box;
}
input {
font: 13px / 1.4 Helvetica, arial, nimbussansl, liberationsans, freesans, clean, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
}
a {
color: #4078c0;
text-decoration: none;
}
a:hover,
a:active {
text-decoration: underline;
}
hr {
height: 0;
margin: 15px 0;
overflow: hidden;
background: transparent;
border: 0;
border-bottom: 1px solid #ddd;
}
hr:before {
display: table;
content: "";
}
hr:after {
display: table;
clear: both;
content: "";
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 15px;
margin-bottom: 15px;
line-height: 1.1;
}
h1 {
font-size: 30px;
}
h2 {
font-size: 21px;
}
h3 {
font-size: 16px;
}
h4 {
font-size: 14px;
}
h5 {
font-size: 12px;
}
h6 {
font-size: 11px;
}
blockquote {
margin: 0;
}
ul,
ol {
padding: 0;
margin-top: 0;
margin-bottom: 0;
}
ol ol,
ul ol {
list-style-type: lower-roman;
}
ul ul ol,
ul ol ol,
ol ul ol,
ol ol ol {
list-style-type: lower-alpha;
}
dd {
margin-left: 0;
}
code {
font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
font-size: 12px;
}
pre {
margin-top: 0;
margin-bottom: 0;
font: 12px Consolas, "Liberation Mono", Menlo, Courier, monospace;
}
.select::-ms-expand {
opacity: 0;
}
.octicon {
font: normal normal normal 16px/1 octicons-link;
display: inline-block;
text-decoration: none;
text-rendering: auto;
-webkit-font-smoothing: antialiased;
-moz-osx-font-smoothing: grayscale;
-webkit-user-select: none;
-moz-user-select: none;
-ms-user-select: none;
user-select: none;
}
.octicon-link:before {
content: '\f05c';
}
.markdown-body:before {
display: table;
content: "";
}
.markdown-body:after {
display: table;
clear: both;
content: "";
}
.markdown-body>*:first-child {
margin-top: 0 !important;
}
.markdown-body>*:last-child {
margin-bottom: 0 !important;
}
a:not([href]) {
color: inherit;
text-decoration: none;
}
.anchor {
display: inline-block;
padding-right: 2px;
margin-left: -18px;
}
.anchor:focus {
outline: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
margin-top: 1em;
margin-bottom: 16px;
font-weight: bold;
line-height: 1.4;
}
h1 .octicon-link,
h2 .octicon-link,
h3 .octicon-link,
h4 .octicon-link,
h5 .octicon-link,
h6 .octicon-link {
color: #000;
vertical-align: middle;
visibility: hidden;
}
h1:hover .anchor,
h2:hover .anchor,
h3:hover .anchor,
h4:hover .anchor,
h5:hover .anchor,
h6:hover .anchor {
text-decoration: none;
}
h1:hover .anchor .octicon-link,
h2:hover .anchor .octicon-link,
h3:hover .anchor .octicon-link,
h4:hover .anchor .octicon-link,
h5:hover .anchor .octicon-link,
h6:hover .anchor .octicon-link {
visibility: visible;
}
h1 {
padding-bottom: 0.3em;
font-size: 2.25em;
line-height: 1.2;
border-bottom: 1px solid #eee;
}
h1 .anchor {
line-height: 1;
}
h2 {
padding-bottom: 0.3em;
font-size: 1.75em;
line-height: 1.225;
border-bottom: 1px solid #eee;
}
h2 .anchor {
line-height: 1;
}
h3 {
font-size: 1.5em;
line-height: 1.43;
}
h3 .anchor {
line-height: 1.2;
}
h4 {
font-size: 1.25em;
}
h4 .anchor {
line-height: 1.2;
}
h5 {
font-size: 1em;
}
h5 .anchor {
line-height: 1.1;
}
h6 {
font-size: 1em;
color: #777;
}
h6 .anchor {
line-height: 1.1;
}
p,
blockquote,
ul,
ol,
dl,
table,
pre {
margin-top: 0;
margin-bottom: 16px;
}
hr {
height: 4px;
padding: 0;
margin: 16px 0;
background-color: #e7e7e7;
border: 0 none;
}
ul,
ol {
padding-left: 2em;
}
ul ul,
ul ol,
ol ol,
ol ul {
margin-top: 0;
margin-bottom: 0;
}
li>p {
margin-top: 16px;
}
dl {
padding: 0;
}
dl dt {
padding: 0;
margin-top: 16px;
font-size: 1em;
font-style: italic;
font-weight: bold;
}
dl dd {
padding: 0 16px;
margin-bottom: 16px;
}
blockquote {
padding: 0 15px;
color: #777;
border-left: 4px solid #ddd;
}
blockquote>:first-child {
margin-top: 0;
}
blockquote>:last-child {
margin-bottom: 0;
}
table {
display: block;
width: 100%;
overflow: auto;
word-break: normal;
word-break: keep-all;
}
table th {
font-weight: bold;
}
table th,
table td {
padding: 6px 13px;
border: 1px solid #ddd;
}
table tr {
background-color: #fff;
border-top: 1px solid #ccc;
}
table tr:nth-child(2n) {
background-color: #f8f8f8;
}
img {
max-width: 100%;
box-sizing: content-box;
background-color: #fff;
}
code {
padding: 0;
padding-top: 0.2em;
padding-bottom: 0.2em;
margin: 0;
font-size: 85%;
background-color: rgba(0,0,0,0.04);
border-radius: 3px;
}
code:before,
code:after {
letter-spacing: -0.2em;
content: "\00a0";
}
pre>code {
padding: 0;
margin: 0;
font-size: 100%;
word-break: normal;
white-space: pre;
background: transparent;
border: 0;
}
.highlight {
margin-bottom: 16px;
}
.highlight pre,
pre {
padding: 16px;
overflow: auto;
font-size: 85%;
line-height: 1.45;
background-color: #f7f7f7;
border-radius: 3px;
}
.highlight pre {
margin-bottom: 0;
word-break: normal;
}
pre {
word-wrap: normal;
}
pre code {
display: inline;
max-width: initial;
padding: 0;
margin: 0;
overflow: initial;
line-height: inherit;
word-wrap: normal;
background-color: transparent;
border: 0;
}
pre code:before,
pre code:after {
content: normal;
}
kbd {
display: inline-block;
padding: 3px 5px;
font-size: 11px;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.pl-c {
color: #969896;
}
.pl-c1,
.pl-s .pl-v {
color: #0086b3;
}
.pl-e,
.pl-en {
color: #795da3;
}
.pl-s .pl-s1,
.pl-smi {
color: #333;
}
.pl-ent {
color: #63a35c;
}
.pl-k {
color: #a71d5d;
}
.pl-pds,
.pl-s,
.pl-s .pl-pse .pl-s1,
.pl-sr,
.pl-sr .pl-cce,
.pl-sr .pl-sra,
.pl-sr .pl-sre {
color: #183691;
}
.pl-v {
color: #ed6a43;
}
.pl-id {
color: #b52a1d;
}
.pl-ii {
background-color: #b52a1d;
color: #f8f8f8;
}
.pl-sr .pl-cce {
color: #63a35c;
font-weight: bold;
}
.pl-ml {
color: #693a17;
}
.pl-mh,
.pl-mh .pl-en,
.pl-ms {
color: #1d3e81;
font-weight: bold;
}
.pl-mq {
color: #008080;
}
.pl-mi {
color: #333;
font-style: italic;
}
.pl-mb {
color: #333;
font-weight: bold;
}
.pl-md {
background-color: #ffecec;
color: #bd2c00;
}
.pl-mi1 {
background-color: #eaffea;
color: #55a532;
}
.pl-mdr {
color: #795da3;
font-weight: bold;
}
.pl-mo {
color: #1d3e81;
}
kbd {
display: inline-block;
padding: 3px 5px;
font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
line-height: 10px;
color: #555;
vertical-align: middle;
background-color: #fcfcfc;
border: solid 1px #ccc;
border-bottom-color: #bbb;
border-radius: 3px;
box-shadow: inset 0 -1px 0 #bbb;
}
.task-list-item {
list-style-type: none;
}
.task-list-item+.task-list-item {
margin-top: 3px;
}
.task-list-item input {
margin: 0 0.35em 0.25em -1.6em;
vertical-align: middle;
}
:checked+.radio-label {
z-index: 1;
position: relative;
border-color: #4078c0;
}
.sourceLine {
display: inline-block;
}
code .kw { color: #000000; }
code .dt { color: #ed6a43; }
code .dv { color: #009999; }
code .bn { color: #009999; }
code .fl { color: #009999; }
code .ch { color: #009999; }
code .st { color: #183691; }
code .co { color: #969896; }
code .ot { color: #0086b3; }
code .al { color: #a61717; }
code .fu { color: #63a35c; }
code .er { color: #a61717; background-color: #e3d2d2; }
code .wa { color: #000000; }
code .cn { color: #008080; }
code .sc { color: #008080; }
code .vs { color: #183691; }
code .ss { color: #183691; }
code .im { color: #000000; }
code .va {color: #008080; }
code .cf { color: #000000; }
code .op { color: #000000; }
code .bu { color: #000000; }
code .ex { color: #000000; }
code .pp { color: #999999; }
code .at { color: #008080; }
code .do { color: #969896; }
code .an { color: #008080; }
code .cv { color: #008080; }
code .in { color: #008080; }
</style>
<style>
body {
  box-sizing: border-box;
  min-width: 200px;
  max-width: 980px;
  margin: 0 auto;
  padding: 45px;
  padding-top: 0px;
}
</style>

</head>

<body>

<h1 id="naive-bayes">Naive Bayes</h1>
<h2 id="introduction">Introduction</h2>
<p>Naive Bayes is a machine learning approach based on <a href="https://en.wikipedia.org/wiki/Bayes%27_theorem">Bayes’ theorem</a>, which describes the probability of an event, based on prior knowledge of conditions that might be related to the event. For example, if the risk of developing health problems is known to increase with age, Bayes’ theorem allows the risk to an individual of a known age to be assessed more accurately (by conditioning it on their age) than simply assuming that the individual is typical of the population as a whole. The theorem is stated mathematically as:</p>
<p><embed src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAAsBAMAAAAp9B/mAAAAMFBMVEX///8AAAB2dnYiIiJmZmZERETMzMxUVFSqqqrc3NyYmJju7u4QEBC6urqIiIgyMjLIDMfUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADzklEQVRYCa1WO2gUURQ9+Ts72Y1K8AdKiLFSMNoKsijxgxZroaKijI2tKyjaOXaSahcES1dLDRKxsVGCqIUixEKwsFitbJRYCdp47nvzPjuTmGeyF2be/Zx3ZubNvDMXWIHFbTOpmjkVk5DxxWJJH7Ck37vnwNQpYIiA7aPjU/OoKeghxFU6WRV1P6n84NNp4FYD34kfqKO8QfMPbgKmhUJXK/Pi26QEwbYFeNLCAvHDLWC95q9sA0aEQleVC5uUQqgNbgAupmtaxDcbiDZp/kcvuTYpb1lV9aPAJEOpFa60Fjg+O9BgMMMlqin+OP0FlOuAruKMQG1SzQs9DdVQfoNhgV/H8wtQ/BXcZDzH166q4gE2KUGwDZ99/HUWfYJ/dfvBUc1/CQcZ88l0FZNStkkJgq05L9B7PKLNwIeGuv8WvjDxjq9EVaMFwdikBMF2XyEv81yaA3rawl8aHz/BxD5AVweF3yUZhJssNPCURz+Zmy3hf6YeRFZdV+NJll2SQbjtVVB5v31tYNes8NNpJur96qp6vy4JY0Y1UDWZDlGRJD94sZFZ7rIEpffyfmUzPEkR1UwVf+AlCd8+OnEygVUNuScqycR5LSoEWNuxMRW/kqL354GJq7xMLbryB+Urv1FqIaviG7wk4VSSNZvhVIP8oiQfkmwnCmWHRXUbClbZAC+W2V3jQCd7Woi3aAFRqiFz3vLrGMtyFm6dc9az/I40YxWITl5MROyUACrV4Bz5uptchdQSdTh3bGT5j9kUoqrxdZKfbf87TzU4R77uk1pUDNYfy6mJDH8pMRmOnzI/S14DPifqq9KqwTlD9fhjm6i5DJkfGiaRZE5kEjKaIBtfP/yxE55qkH/4yPSEcKzl0X9dbIzeyizaKvM81SA/xb3MVyCismoT1ea/YYEnrRrkn2HAn5KIimc96/7fuNbCDE81yD/FB+LPbsn19y66rNs3piBzPLeVlJB/P7ewrI0kV7v+/M7FnGrUEPNHOjPPZ+ClVmu9J24oCqcaNeweHT8se4OiEmJxO0MVBNGb7Ta4u2mtHx4o5+bbrbiaA3ih43L87poe0HdP59otLTI+wvpR1biOX9bon5Zvt3RrtfgUoxqi/9pKifGWGAvtVm+6BJJpoxpIDMZmTCI/ytbsaLeky+qiFdqtrmxId4OFdksJoquv1iu0W10RRHdXhXYrJ4gOuTKv0G51ef11Q+W1W93lL7Zb3RBEt5TFditQEB1FiBe5TeVELGRiKMa1W8sKYihlB861W8sKYse80KCcZshlBTGUMYdrZPEigvgXvdn4/vVFAYwAAAAASUVORK5CYII=" title=" P(A|B)=\frac{P(B|A)P(A)}{P(B)} "></embed></p>
<p>where A and B are events and P(B) is not equal to 0.</p>
<ul>
<li>P(A|B) is a conditional probability: the likelihood of event A occurring given that B is true; this is the posterior probability</li>
<li>P(B|A) is also a conditional probability: the likelihood of event B occurring given that A is true</li>
<li>P(A) and P(B) are the probabilities of observing A and B independently of each other; they are known as marginal probabilities and are the prior probabilities</li>
</ul>
<p>The formula can be interpreted as the chance of a true positive result, divided by the chance of any positive result (true positive + false positive).</p>
<p>A typical example used for illustrating Bayes theorem is on calculating the probability that a <a href="https://en.wikipedia.org/wiki/Bayes%27_theorem#Drug_testing">drug test</a> comes up positive with a drug user. Suppose a particular drug test is correct 90% of the times at detecting drug use, i.e. 90% positive when a user has been using drugs, and is correct 80% of the times at detecting non-users. We also know that 5% of the population use this drug. Given what we know, what is the probability that a person is a drug user when the test turns up positive? Isn’t this just 90% or 0.9? Not quite, since we have prior knowledge that only 5% of people are drug users and that the test can turn up positive even with non-users. If we apply Bayes’ theorem and let <embed src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIsAAAATBAMAAABSAuPiAAAAMFBMVEX///8AAAB2dnYiIiJmZmZERETMzMxUVFSqqqrc3NyYmJju7u4QEBC6urqIiIgyMjLIDMfUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACc0lEQVQ4EY2TTWgTURSFvyRtmslk2izE/oDQ+lvqwrZg14PoTiSCP6ggoyB0GQTBnRE3bYU6rYguFEYEFylICq4URQSLUhdBwR+oUlypYAkuRBTF8yYkM6GKvYT7zj33zJn37ptAIx42QMvqtlR/L5ZDetO6zQc9KDL7fCunugVjUYDkyK49h2LUKng3ZNqLZHrprMJjsN1WlWw4DOf9iH4J90G5EZnAoESA3UcXWBvA8QwVhbHpg/kgom7AcVBuRs2gEx7pHqYgm4fOZq8OZJNeL02phRcTj0FT3IS2RY5Ah1yT8bawbIz73kqcTz+KV/DalGdgyUOdXD/cE1Eu+0xN8+LtUNXYdBRwFiDzeWvYGnedHV+DcZdx136GEZLTQzwpr2yHYZipwivpg2TQsexUJ0eTRWOTO3rnQwX2cd205koLtAd2aUE/fmGEJORiBqtcC0/Hss71zeYWyWsPFh3f2Bh3Ha1GwlPLsfIkfGUnneeTEfrk9BZzdM2xBue09stx5Ck7p77YSVd1oe6uPQXMe6YleknvctFeAyOElGzMYPW9DMMBuVWFrQG7V0tXSalQd9eefHMX1gA5j21y9UhVCUJhOJtUv9SYEe+uX9R3cnZezHxFSTajWnTl8Bu1uODwwy4pJyppPxSGNjOlUPYTLmNr1vpXvGeMjHfJ8AWsnrCf8rLFsLUxy1gnyolKllDIFb1//9lQ9lEnOj1k4LuJgNmJOVZMUWBLd8kAa7Bcb528yPQkypnBgFCIOo242gCtqw71/zgWSdrNJFbHWmysYvSc5UY4htZi0xbfwZvYwxFci83tSK4Zxosm9pro38CHP7k/mD4RcjKSAAAAAElFTkSuQmCC" title="P(User|Positive)"></embed> mean the probability that someone is a drug user given that they tested positive, then:</p>
<p><embed src="data:image/png;base64,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" title=" P(User | Positive) = \frac{P (Positive | User) P(User)}{P(Positive)} "></embed></p>
<p>The nominator is the <embed src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAAMBAMAAAANL4lAAAAAMFBMVEX///8AAAC6urqIiIiYmJh2dnbMzMwyMjLc3NxERESqqqpmZmYQEBDu7u5UVFQiIiJTdo2uAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAvUlEQVQYGT2PoQrCUBSGP+WiMwxfYcNqULApMhg+giJYtjCTwSIYry8gRmFlIjarQfYCBpG9h8miweLZ7vCUj/v9h3POhdbIQcogwlr5e6gtWYss8cV6PTQ0EvpiDdQTK5EXlYD2H/O0tKEmzMDAE9vL97hidQlFit3hXTRJkCeunouVusIm4CATCnjGDmSbw1nyHOoy/kyaCV05yWMotkRMXecTqjv5xTYrADEqs2/SdTw5LHQBovsUf6b5AVcoN3STjdMpAAAAAElFTkSuQmCC" title="0.045"></embed>, since</p>
<ul>
<li><embed src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMQAAAATBAMAAAA9s7/PAAAAMFBMVEX///8AAAB2dnYiIiJmZmZERETMzMxUVFSqqqrc3NyYmJju7u4QEBC6urqIiIgyMjLIDMfUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADM0lEQVQ4EY2UTWgcdRjGf/nYycxuZjcHSbuthRWjjSnF1YPgQVhF6cXDCH7UepkcPAiFLoViT+22SA9RymSD9CRscvAjaJ2ASJFSgmAP6mEUPypEWURo6KHdoyLFPu/ETjLLKH2Zefd5n+ed//vO/53/wl27chf8z2+rUOsXsjvJB++beSmENow+9sxzL++UhnFA99uHeX2X0nfYZztwMSy1cetUE6mvwJkoy/KbVGLkMwvgS6i0MiIFbi8f/7Zia/HD9Qj/xkGDIz0qe6gZ3ANrPQOpeQmlPvKZBXj7wA8zYgsMcrEz4C8R7oAnOUYtEp4PcXazIORMK+oIZDYSZtBAQHkKqjlOwWyOKHX4Q8Rkh2c5TLUlvAzj3/CqkD3/fCyQ2dEMpSBgYqCR5Un4OUeorQ0RiwkfM42/LnwCNkIMTQT4V+H8Skh59SPnLb7/Z05e1+UI98O+3mKyAV8oVbox/sHuJ2pYxLbNR8yrz8WQ5c/rOHulfLV68wA0hSaPXPw9ZrzvrWvf5i5NhhxBXlct4RS/qoR64yelSjfGXWrs1zRt/UNvyo4LfKcSkcgOD7ynEnXSAcoPJNrz8Cl6v0fDOFmEOvLJPNWo3OQRldCu0tct3Zi3N+Jf1FosJjOtryqU2zytt/BVwgagSQ/k7Hn4mso0S/d3mEk3cgb2U2bs8MVEJU4roaFbujGxVBjLldAOnTFiZXXZm8bVRtkA9a035ex5vHpatTvFVUbbyPOUSqxF0gJeVDeJpXWnUuZPw/lZjCS8YyzcYh/uulpoWJSO+3EDzhS1fq3DuttMar1L8uzlDdZMC/Qdph+U6cZUbJhbJbJZlHpcF6nTc1uzrKrLxY5i+Fv9707RE3zABH5/tNEbC82rRI+xkHMqsURF30aqG6PzJXvXXGZ+oKN3Ia41yi1+tKM3+sLJVNyEh3Z1DHYXevjXFnBmY3czkueszqU3uxCrhHN8znJMN6bat2jV3LadP5twNHJu3tAR30z/QLa0C9sp/42CYum1YnqYLcXDTEFcXMJrF6QWUF6rgBymikuM30t3ttS14fUK4uIS7xdkFlJeIZsnw3z4bxQVshl5B8cH0kHhj7R8AAAAAElFTkSuQmCC" title="P(Positive|User) = 0.90"></embed></li>
<li><embed src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHsAAAATBAMAAABCTm97AAAAMFBMVEX///8AAAB2dnYiIiJmZmZERETMzMxUVFSqqqrc3NyYmJju7u4QEBC6urqIiIgyMjLIDMfUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACA0lEQVQ4EY2SPWhTYRSGH29tem9u8zNINUohYnGoFNqCLi4ZFAcXBQV1ug7OhoIoOJixZtC0DnaMukUodRWUIoiWOARBUVCJWylaioMILr4nP/fetjfggZz3Pe/5ud938kHfXvZJHLPxIJkf2TdxMYAyi++Ocm2/aGR+KeID2HAZt0C2Ba9gZ311e1NmY8oEA+/X8mXje+r4B8mBN65EYFJkkuN2nVxNsYE388YoVwNSB9Bn0nnYeVmnYiWhXSJbUmDgVbrqI9jbRAcZ2QKnq4U+Uw6pkTEyqz3ot9+ALwFSR4vwXMlGo0b1Hu8/T7YwPbJUgdQh6IC38VhpeN3YPAbTsKDwI7h1pz7SzrTuzjplyFvJmZuyOW1G7YUe+G1OKGULk98C3YK2zv/b5wnO0otmpgZNy/ZNvZpgIww4rZ8tTIra7wiLmjTzluPVn75TUsxJc33zxnB1+B7wQ7otTP/3NFzQlJa4d9i32bmK3Pa7M467KtFgqMJ30aGiXKfsVHfxfxj181KerfT06O5cIVuWaqAHYIdfqFgVf+EBvnao1/tNS3GD+yZ758yH9sHey20M0iv+mr53/lYnua6Tz00a/TpfZ3H+KZsWpOvmQ3PXp0itYcDyRC3UeRjROBvu3CCuJPMBdQOm7prhlXZJJpxNVBPETwka6SBJTdK8/xZjhf8Acs1v8EmjUoUAAAAASUVORK5CYII=" title="P(User) = 0.05"></embed></li>
</ul>
<p>For working out <embed src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAF4AAAATBAMAAADrOqfvAAAAMFBMVEX///8AAAB2dnYiIiJmZmZERETMzMxUVFSqqqrc3NyYmJju7u4QEBC6urqIiIgyMjLIDMfUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABy0lEQVQoFX2RP2jUcBTHP8310kvSXG6Qs1cVClas7WDs4CJCEZx0qIP/Ov1uFBxuEZw0SulwQ8nVwTV2UTvU3NZBJIsd7BKcOigEp07i7qDv95MLgeN8/Pj+Pu+9b368R2AUn0Yw+W6a1vlTi3cV9MC6cuPmvcl2vDXdrPdodGjmgvfhRaxrJvwQL0W0jL6mqQRvnkDjPAwTDSacnHqBaBnG1FXYc+hP7TZ0o7IrMKWqGVYk6RuYPuKhkNuC22nV8biagN+T/Al8U2RCM+v4h7C9q3D33tubfP2zLCrnY0zjXYFxfd77uQKh+Gc39n+kTBdOJuMtH8wqNhCVE+Q84zvIAM45ceL8EhnkGj9Am8sqzQfQQTTv0ozdkEtw9G9oWVX7ZROJL3htXp2NWMTPEOUiLrUH+/LaNRlaO/FCkeeanI7Ze6fFIVYPUa6LfxjrZga1BQ1mk1UNdougCCKyRpgHyYEoZ3jEUPe0axBp4Le8PGfoKm+ZwS+shaSmtIo/oabYwlnHuvPUuE7gwulI404/wT/uYy+ljZNYlJfyM52lfoqbaIOJ1yP4311Py24Fy9oYVB511sa644VbldJxhSegqyoNp8ITUCx/AaZNaiq5yvmiAAAAAElFTkSuQmCC" title="P(Positive)"></embed>, there are two scenarios that a test turns up positive:</p>
<ul>
<li><embed src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAATsAAAATBAMAAAAdercbAAAAMFBMVEX///8AAAB2dnYiIiJmZmZERETMzMxUVFSqqqrc3NyYmJju7u4QEBC6urqIiIgyMjLIDMfUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEL0lEQVRIDa1UXYgbVRT+NtlkZyY7SR5k2/QHoq7tdmUxFSn6IMayRQQpI1T748ukYEEoGKqivmhaxIdVymxWqS/q7CL+rLrOgkgRKUGwUu3DKP5UWCUuSpdFa/DJIqLfuZmdTMKwBrqHzDnnft+59373JxdYs3NryTqxHMs1Y9GNAm+8bvQBG6gCid179z243rAW6hd34OFNLI/Yh5F849NUFVoBWZ8jHwROOuEMZgkZD/ShWcCnQKYcAirR3O72T3MyFr657MBcnejiAkrC6+O/dqaSoggHHIX+58JhgQdcZLYgJ+kWYNGVRJnuI9UEfWgW9O2AaYdAO2l1tdMtXCWgtXAHHkUuqiGgVJjZ9nRct6DkNui7P1ddKzbSmzHF2vQIUKlFOw3Y0RYsGHkg24WxMdYFpGr4hcBwDZM4hGw5QgaUCq9EcEmjHIzHodfaBbPA4JeQjZS57/PaaNsfjzZAeUMtXtFuEPi+C+CSlghM+3gPIzAbzF/i9zu/gFKhV16Uw7HJUN4TwJINGWXIgnkeOD1nw5h/J/0cvv53nJ6/Txxobzcpb7gIfMxS8oKYE/X3uVEEOlZxUOEap23MflRAeisZrYpskTGgVHhtfqLTp4eDS3mr7Sv82fyVm4ESK4aPLCx7GGzqDZ71+NlhG0dAz1/OxzP4kfK4J/iOpeQF0WaKO7kpMs89T9JOMPmK8hyCNVz/KuUVhHwDyxICSoVzSNqEerspzsAkMk3sIS+Xnb5FJ3MDH4Bncovt+dNAAfR+BVnHKGEX5fEmoMmPvCAvLHk/cFkekdCojXPAqOJu7p6p5Bn7y8IHVBAGrbBPD3eM8mj7+MmF47+iRSdzA18gM4KZbTWMqoszCuyEgeShBZ/ynmVBkR95QTyyQNITv2Y81ZMCzM3P6iPQ5HCBx5QPqCBkGwoMXJRz2/J+IyWXnW9ZiU7mhl5Qiut5nEeiCnrcSXmLDjkLB7gSX8rqeYX8JXn33Rvw8aKgwB/YDq0hmbG/KCGgVLgd2bxgaxbhjL033LUjWcPP5JJFVdCgv1WydB65Zq6Ghlbyc+5ZemzFI1gUzpJVJZgIL0hG7Y2SF16ilIvLpPg6/sO7m+UKw7sXUCpchTrc3m5ByQF5MOVwp2t0wN/ct80q24O3MASzmSi6SVs85blI2nie8maQ4f9I8YLw7aW9LC400+KzfMbLFY0yvm0/y/znJoosCCgV3pXnIGJRDjwlw8tc4F7c/5SqWQFu2lSTtD7lwrw0hfSYp6049DjFN1sfm/IoL31iXGqEFyTblNa8uI6dPuXjuJO+ssoXZUW9HmdIqqRNQYKxfG+ni2QRDkcv7sLCaES+jPC/ZsVXPBQPbySa8voYLV6eXu2j6zWW6OU+BoiXN9jPyvoYfd2SS+uybTJe3pt99LzmEr2PEezYGicW3RDwPy7GXkWOzdrYAAAAAElFTkSuQmCC" title="P(Positive|User) = 0.90 \times 0.05 = 0.045"></embed></li>
<li><embed src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWgAAAATBAMAAABPWYpQAAAAMFBMVEX///8AAAB2dnYiIiJmZmZERETMzMxUVFSqqqrc3NyYmJju7u4QEBC6urqIiIgyMjLIDMfUAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAE3klEQVRIDbVVW2gcZRT+9pLNzOzO7hZqTFqDW4xtXBHTgrU+COulqFDD+lCt8cHJWwtFF8Xbi25KlLpIOolK++BlGsXLRtoJ9KEPteyLobQvY7E1gaasQW0INi6CRREv35nMTmab5gbxsHP+M993zsw35z8zC9TtdD1YYs0twd2Qqt4QXQPwtvUduw2gAIS3PrjzyaWumJccEyducpbKCnAnAvGahk0FKG1Iio6ngD7Tv7jehbgNet/yjH7JuQ/oY0sGitVIXx6W22BqZxH6zF0NnEd9d8XEx9mf5lVIksfp1wC9+zVBQhbiG5CScAMwakngmuqgqQp630T0cAVxy0eWC2oNCbEa/iQQNnnD55EKKvMopYb78O4trjC/1OPUn1uAQ4hIWa+BWCtKjGIEe4t+LoOQETwDRcf2tUIP3q0hYcFJZwPSVMSPBCIGHsIeJHOM6+ZRiSIexpE66K0eB1DfGURzhI8C0XN4mpGWBnbZXqa77A+eQERr+B3JRnSps+8bSPbgEoGEhU0UoFcYv8fjKg+PGnTw1QLRHiei1XZoUvYScMmARM156GPAwLABrfxlrB/n/83S83fKhPJFVUQn0WeLaGVmMwZGyi8z9G1vDv1AuWyiNIDzE1mH+nxSgl4TvXNNeTbWhthGQkoBycw8NWjgqP1RuXHc/TKKboEmZd+UZ+8Euhgleo5N2YhW1QqnJXsyYaAH9PylHLyOyTnRoarG3G58oF48izcZ1i1eHGOWYoWt5qruvL0tXGADhXzkFdoLDL6laFMQtUWn6DYJP8WULB4VKmKTeRoRg9DCMo5HK8IsY8Npao2Oe0M7Lttwt2E7g0Ab6J1eJE2tC3eI6A8RrUxwSmoI7SV2RSo802NpjCF8LY5PED7y9TkZ/YRdZ2WlYoqjpSwqpm6a1p2TxaO0Ah5gSTQvWN38Mor+HFF2WgaZ71eNjtNNO4t4C1/gIjrcqesAtnCSI3uOOSLaQqzdcsdy1Ihm2Fngwm5aD4NwQU1D3XoG95SuxsM5IojY4uvGze9zgazssyL7DLzo+jo1XBYVyYoLeq7OyYuoZctpDnJNqHgX3RsSqW3ucwy5XSuAvcP9FD1qkssDVeBeHoMmHzHhcCsCFnE0Zqib4oKmisI0znTIwTuCahbQDqXixt0ZWeoU8Ct2IJkWrG4+R9F8oBp7kXG5Cv02ibjHqSrvWFG6nJR1kh4bsQ+jwlFSFfjB4m4C/2AQSs0R3LOQ3Vwt/oFEPE1g1BbUFe0PZ5M1N0/j7EIPkgXJ8Gbao3QDf/Nb7o7HgjLp9EWkHPasKKX4iy1qdaPtnJtm6NVwxooY4inaQsTAWxStW5RjyKeW03ccUbLzFsKpCaeAy9gOxTjk4u/Ps4z0PAUdtmOPT/bjwtyfC78e4cw8lcpoOYzI1ypgXpnsDn7jUyL8xKsuPQ3cfnNRwqGSBX28hFinrUyb9DjAfx61s2RT9K4dfEuYpHaWgRnJkRLPtEfHs5g8aGHo4AhmXZBZQRs44GC/mVi3bj2Uafe7dpi0G8xRsdkZTs/UY8EifoTdsviWWzfjuVlrnpPiZS2/bMb1Cc9cD6zpeVOwZYtdedWi1cJil1oTXM2t4DKrFh1dSStWcOPFUsYXIwL4qkV/Fij+P0J1BRc1VpDTkGI2nK3VyX9nC2HHHVuHkQAAAABJRU5ErkJggg==" title="P(Positive|Non-user) = 0.20 \times 0.95 = 0.19"></embed></li>
</ul>
<p>Therefore, the probability that a person is a drug-user given a positive test result is:</p>
<p><embed src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANoAAAAnBAMAAACbP0svAAAAMFBMVEX///8AAAC6urqIiIiYmJh2dnbMzMwyMjLc3NxERESqqqpmZmYQEBDu7u5UVFQiIiJTdo2uAAAACXBIWXMAAA7EAAAOxAGVKw4bAAADvElEQVRYCbWXT0hUQRzHv/t2fO6urmseNomElaCIDAy3ojJZUU+mmKj0j3wSGlQHCTY6xROJoEN56BBJsBFRRMJGJIVlXgLRkMXwoHSwQyREQpeKuvSb34y2u0Hg7O4c5jvzZub32Zn35juzQEayop2yrsTuwLWuA25Gh7xWzqJYRlcSSuLm1pW8xs8MdgfeJD1R0p7E9czmPNfCsKYoJIt9vsA0uxJ2FaBElCQx3MzvMc9z0uEsolXSR8ISI9p7hJzCoCgqoYikxHaIBpSMFIzmCyNAK8kiwDTvVMFoqEBARpfS2t0bd37BW1442i14lym6En8Slwu5kthJu9v3lQUgWhs+uHmZW/QwUORkhQoc7IQ9DSmwT711xd4XWT3MqiK2uNs+bjY2fdQOB9jV4AKyALLWjGRdov30bAUhV1iP7mY0mVSG+xwEBvETsgCQtaYn374w8JBYHgiIWHqTWdnjoDSBCYAKAFlrZiLaDG2l0pTAYmaLUY0gQxEcUTRprZTqZ1PAGIcLw1cBMeV3BPJxmkiag8YUz01aK+BduToDLK/RwhBVdnIgUMsPNpxNrlL6pIcRzZPAUZdp0lqBMqBmfEGW5GmCLSiqxDlnEfMpfpRLRjSxjKc8N22tguL1zqqgRGtHCbkhxn2v27BpY6k8+5cRDS3NjfzetLWmdyGa6GqmUVZHGb27XJOkAfuZxtZKtVdz7t+vhOreQTImyF1gkLLfm+XgItPY7OiQapufHFsa4cg0t+0ojgCdprT1H0iOCk8ExR0iyQVN8wLBN3Mp7lYBxNFKJpOE3HO5JHLUhY9xx66LggtsrekBg6c39+BMXYx+RgpFiaX0tkKWH1PwEzFgW0tEYpT0wxdvui3ra0nfZ9l02X3XGozUHqQjk9ZVyW/4vskPilKQc32RZdNl91VPTXN/AodorBLxBb6EjiQiXND3WWkVyn11s5lQlBoaqWRg4h+avs/KDkPsvmYYParPRR99rEpiRIuq9wg1N3WRVT9niN03J1o10VyARdA5FazFdw6oaPo+y5P3sPvmRCMUkSSx2h2QpyLwkgMqmr7PMk25LzeaZrQ892glWWKKVk+xJlc/X5Gnir7PMk25rymIx3kieEIFKeJ594+eUAJ7qE7WHWHR91k+vth9+alp5o+hgcZqGZX/FtNXUl9keW7KfU1BPM4aod19I8UCjEKkgtPcoOem77PwrLkvNxpn9x9EcMGFFPS/O4amky7H0jR9n113X2PO/wdq2v875a01qA6ovMWTgf4Ak1Xy3WVRulAAAAAASUVORK5CYII=" title=" \frac{0.045}{0.045 + 0.19} = .1914 \approx 19% "></embed></p>
<p>Classifiers based on Bayesian methods utilise training data to calculate an observed probability of each class based on feature values. An example is using Bayes’ theorem to classify emails; we can use known ham and spam emails to tally up the occurrence of words to obtain prior and conditional probabilities, and use these probabilities to classify new emails. Bayesian classifiers utilise all available evidence to come up with a classification thus they are best applied to problems where the information from numerous attributes should be considered simultaneously</p>
<ul>
<li>The “naive” part of the method refers to a assumption that all features in a dataset are equally important and independent, which is usually not true; despite this, the method performs quite well in certain applications like spam classification</li>
</ul>
<p>Install packages if missing and load.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">.libPaths</span>(<span class="st">&#39;/packages&#39;</span>)</a>
<a class="sourceLine" id="cb1-2" title="2">my_packages &lt;-<span class="st"> &#39;e1071&#39;</span></a>
<a class="sourceLine" id="cb1-3" title="3"></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="cf">for</span> (my_package <span class="cf">in</span> my_packages){</a>
<a class="sourceLine" id="cb1-5" title="5">   <span class="cf">if</span>(<span class="op">!</span><span class="kw">require</span>(my_package, <span class="dt">character.only =</span> <span class="ot">TRUE</span>)){</a>
<a class="sourceLine" id="cb1-6" title="6">      <span class="kw">install.packages</span>(my_package, <span class="st">&#39;/packages&#39;</span>)</a>
<a class="sourceLine" id="cb1-7" title="7">      <span class="kw">library</span>(my_package, <span class="dt">character.only =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb1-8" title="8">   }</a>
<a class="sourceLine" id="cb1-9" title="9">}</a></code></pre></div>
<h2 id="example">Example</h2>
<p>Classifiers based on Bayesian methods utilise training data to calculate an observed probability of each class based on feature values. The classifier uses observed probabilities from unlabelled data to predict the most likely class.</p>
<p>Use the <code>naiveBayes()</code> function from the <code>e1071</code> package to perform <a href="https://en.wikipedia.org/wiki/Naive_Bayes_classifier#Gaussian_naive_Bayes">Gaussian naive Bayes</a>. Divide the dataset in 80% training and 20% testing.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">set.seed</span>(<span class="dv">1984</span>)</a>
<a class="sourceLine" id="cb2-2" title="2">my_index &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(iris), <span class="dt">size =</span> <span class="fl">.8</span><span class="op">*</span>(<span class="kw">nrow</span>(iris)))</a>
<a class="sourceLine" id="cb2-3" title="3"></a>
<a class="sourceLine" id="cb2-4" title="4">my_train &lt;-<span class="st"> </span>iris[my_index, <span class="dv">-5</span>]</a>
<a class="sourceLine" id="cb2-5" title="5">my_train_label &lt;-<span class="st"> </span>iris[my_index, <span class="dv">5</span>]</a>
<a class="sourceLine" id="cb2-6" title="6"></a>
<a class="sourceLine" id="cb2-7" title="7">my_test &lt;-<span class="st"> </span>iris[<span class="op">!</span><span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(iris) <span class="op">%in%</span><span class="st"> </span>my_index, <span class="dv">-5</span>]</a>
<a class="sourceLine" id="cb2-8" title="8">my_test_label &lt;-<span class="st"> </span>iris[<span class="op">!</span><span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(iris) <span class="op">%in%</span><span class="st"> </span>my_index, <span class="dv">5</span>]</a>
<a class="sourceLine" id="cb2-9" title="9"></a>
<a class="sourceLine" id="cb2-10" title="10">m &lt;-<span class="st"> </span><span class="kw">naiveBayes</span>(my_train, my_train_label)</a>
<a class="sourceLine" id="cb2-11" title="11"></a>
<a class="sourceLine" id="cb2-12" title="12">m</a></code></pre></div>
<pre><code>## 
## Naive Bayes Classifier for Discrete Predictors
## 
## Call:
## naiveBayes.default(x = my_train, y = my_train_label)
## 
## A-priori probabilities:
## my_train_label
##     setosa versicolor  virginica 
##  0.3583333  0.3333333  0.3083333 
## 
## Conditional probabilities:
##               Sepal.Length
## my_train_label     [,1]      [,2]
##     setosa     4.972093 0.3340413
##     versicolor 5.957500 0.4744160
##     virginica  6.651351 0.5465150
## 
##               Sepal.Width
## my_train_label     [,1]      [,2]
##     setosa     3.406977 0.3832166
##     versicolor 2.777500 0.2805558
##     virginica  2.989189 0.3186637
## 
##               Petal.Length
## my_train_label     [,1]      [,2]
##     setosa     1.460465 0.1774684
##     versicolor 4.282500 0.4595915
##     virginica  5.586486 0.4882862
## 
##               Petal.Width
## my_train_label      [,1]      [,2]
##     setosa     0.2418605 0.1096153
##     versicolor 1.3300000 0.1842518
##     virginica  2.0621622 0.2742174
</code></pre>
<p>The values are the mean and variance for each feature stratified by class.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">iris[my_index,] <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="st">  </span><span class="kw">group_by</span>(Species) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">mean =</span> <span class="kw">mean</span>(Petal.Width), <span class="dt">var =</span> <span class="kw">var</span>(Petal.Width))</a></code></pre></div>
<pre><code>## # A tibble: 3 × 3
##   Species     mean    var
##   &lt;fct&gt;      &lt;dbl&gt;  &lt;dbl&gt;
## 1 setosa     0.242 0.0120
## 2 versicolor 1.33  0.0339
## 3 virginica  2.06  0.0752
</code></pre>
<p>Classify the test set and tabulate based on the real labels; only one misclassification of a virginica as a versicolor.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1"><span class="kw">table</span>(<span class="kw">predict</span>(m, my_test), my_test_label)</a></code></pre></div>
<pre><code>##             my_test_label
##              setosa versicolor virginica
##   setosa          7          0         0
##   versicolor      0          9         2
##   virginica       0          1        11
</code></pre>
<h2 id="further-reading">Further reading</h2>
<ul>
<li><a href="https://betterexplained.com/articles/an-intuitive-and-short-explanation-of-bayes-theorem/">An Intuitive (and Short) Explanation of Bayes’ Theorem</a></li>
<li><a href="https://machinelearningmastery.com/naive-bayes-for-machine-learning/">Naive Bayes for Machine Learning</a></li>
</ul>
<h2 id="session-info">Session info</h2>
<p>Time built.</p>
<pre><code>## [1] &quot;2022-07-12 04:48:52 UTC&quot;
</code></pre>
<p>Session info.</p>
<pre><code>## R version 4.1.3 (2022-03-10)
## Platform: x86_64-pc-linux-gnu (64-bit)
## Running under: Ubuntu 20.04.4 LTS
## 
## Matrix products: default
## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3
## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/liblapack.so.3
## 
## locale:
##  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              
##  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    
##  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   
##  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 
##  [9] LC_ADDRESS=C               LC_TELEPHONE=C            
## [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       
## 
## attached base packages:
## [1] stats     graphics  grDevices utils     datasets  methods   base     
## 
## other attached packages:
##  [1] e1071_1.7-9     forcats_0.5.1   stringr_1.4.0   dplyr_1.0.8    
##  [5] purrr_0.3.4     readr_2.1.2     tidyr_1.2.0     tibble_3.1.6   
##  [9] ggplot2_3.3.5   tidyverse_1.3.1
## 
## loaded via a namespace (and not attached):
##  [1] tidyselect_1.1.2 xfun_0.30        haven_2.5.0      colorspace_2.0-3
##  [5] vctrs_0.4.1      generics_0.1.2   htmltools_0.5.2  yaml_2.3.5      
##  [9] utf8_1.2.2       rlang_1.0.2      pillar_1.7.0     glue_1.6.2      
## [13] withr_2.5.0      DBI_1.1.2        dbplyr_2.1.1     modelr_0.1.8    
## [17] readxl_1.4.0     lifecycle_1.0.1  munsell_0.5.0    gtable_0.3.0    
## [21] cellranger_1.1.0 rvest_1.0.2      evaluate_0.15    knitr_1.38      
## [25] tzdb_0.3.0       fastmap_1.1.0    class_7.3-20     fansi_1.0.3     
## [29] broom_0.8.0      scales_1.2.0     backports_1.4.1  jsonlite_1.8.0  
## [33] fs_1.5.2         hms_1.1.1        digest_0.6.29    stringi_1.7.6   
## [37] grid_4.1.3       cli_3.2.0        tools_4.1.3      magrittr_2.0.3  
## [41] proxy_0.4-26     crayon_1.5.1     pkgconfig_2.0.3  ellipsis_0.3.2  
## [45] xml2_1.3.3       reprex_2.0.1     lubridate_1.8.0  rstudioapi_0.13 
## [49] assertthat_0.2.1 rmarkdown_2.13   httr_1.4.2       R6_2.5.1        
## [53] compiler_4.1.3
</code></pre>

</body>
</html>
